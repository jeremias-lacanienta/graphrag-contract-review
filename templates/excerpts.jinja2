{# templates/excerpts.jinja2 #}
{% extends "base.jinja2" %}

{% block header %}
Contract Excerpts
{% endblock %}

{% block content %}
{% if contract %}
Contract: {{ contract.name|default('Unnamed Contract') }} (ID: {{ contract.contract_id }})

{% if excerpts %}
Excerpts:
{% for excerpt in excerpts %}
[{{ loop.index }}] {{ excerpt.text }}
    Clause Type: {{ excerpt.type|default('Unknown') }}
    {% if excerpt.metadata %}
    Metadata:
    {% for key, value in excerpt.metadata.items() %}
      {{ key }}: {{ value }}
    {% endfor %}
    {% endif %}
    
    {% if not loop.last %}
    ----------------
    {% endif %}
{% endfor %}
{% else %}
No excerpts found for this contract.
{% endif %}
{% else %}
No contract found.
{% endif %}
{% endblock %}
